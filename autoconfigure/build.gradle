plugins {
    id "java"
    id "maven"
    id "findbugs"
    id "checkstyle"
    id "io.spring.dependency-management" version "1.0.3.RELEASE"
    id "io.freefair.maven-jars" version "2.0.1"
    id "io.freefair.javadoc-links" version "2.0.1"
}

archivesBaseName = "okhttp-spring-boot-autoconfigure"

javadoc.options.linkSource true
compileJava.options.compilerArgs.add("--permit-illegal-access")

checkstyle.toolVersion = "7.8.1"

compileJava.dependsOn(processResources)

dependencies {
    compileOnly 'org.projectlombok:lombok'
    compileOnly 'org.springframework.boot:spring-boot-configuration-processor'

    compile 'org.springframework.boot:spring-boot-autoconfigure'

    compileOnly 'org.springframework:spring-web'

    compileOnly 'com.squareup.okhttp3:okhttp:3.+'
    compileOnly 'com.squareup.okhttp3:logging-interceptor:3.+'

    compileOnly 'com.squareup.okhttp:okhttp:2.+'
    compileOnly 'com.squareup.okhttp:logging-interceptor:2.+'

    testCompile 'org.springframework.boot:spring-boot-starter-test'
    testCompile 'com.squareup.okhttp3:okhttp:3.8.0'
}
