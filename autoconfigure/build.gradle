apply plugin: 'java'
apply plugin: 'maven'
apply plugin: 'findbugs'
apply plugin: 'checkstyle'
apply plugin: 'io.freefair.maven-jars'
apply plugin: 'io.freefair.javadoc-links'
apply plugin: 'io.spring.dependency-management'

archivesBaseName = "okhttp-spring-boot-autoconfigure"

javadoc.options.linkSource true

dependencyManagement {
    imports {
        mavenBom 'org.springframework.boot:spring-boot-dependencies:2.0.0.M1'
    }
}

checkstyle.toolVersion = "7.8.1"

compileJava.dependsOn(processResources)

dependencies {
    compileOnly 'org.projectlombok:lombok'

    compile 'org.springframework.boot:spring-boot-autoconfigure'

    compileOnly 'org.springframework:spring-web'

    compileOnly 'com.squareup.okhttp3:okhttp:3.+'
    compileOnly 'com.squareup.okhttp3:logging-interceptor:3.+'

    compileOnly 'com.squareup.okhttp:okhttp:2.+'
    compileOnly 'com.squareup.okhttp:logging-interceptor:2.+'

    compileOnly 'org.springframework.boot:spring-boot-configuration-processor'

    testCompile 'org.springframework.boot:spring-boot-starter-test'
    //https://github.com/spring-projects/spring-boot/issues/8492
    testCompile 'org.springframework.boot:spring-boot-starter-logging'
    testCompile 'com.squareup.okhttp3:okhttp:3.+'

}
